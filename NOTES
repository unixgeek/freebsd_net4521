Timecounter "i8254" frequency 1189162 Hz quality 0 <-- seems to be what is missing in the newer freebsd versions

4521 is the same as 4501

tiny vs pico vs nano

watchdog timer? description says there is one. what is it? also in NOTES kernel config

dmesg
pciconf -lv
man -k Atheros


https://sourceforge.net/projects/thewall/
https://www.usenix.org/legacy/events/bsdcon/full_papers/schadow/schadow_html/
http://www.netbsd.org/gallery/presentations/ast/2009_AsiaBSDCon/Tutorial_NetBSD+FreeBSD4Smallx86Systems.pdf
http://svn.smallwall.org/
http://phk.freebsd.dk/soekris/
http://phk.freebsd.dk/soekris/pps/
http://phk.freebsd.dk/soekris/kern45xx.html
https://manpages.debian.org/jessie/freebsd-manpages/CPU_ELAN.4freebsd.en.html
https://www.freebsd.org/doc/en_US.ISO8859-1/articles/nanobsd/howto.html
https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=212957

# kernel compile
        cd $MW_BUILDPATH/tmp/sys/$MW_ARCH/conf
        cp $MW_BUILDPATH/freebsd8/build/kernelconfigs/M0N0WALL_GENERIC.$MW_ARCH $MW_BUILDPATH/tmp/sys/$MW_ARCH/conf/M0N0WALL_GENERIC
                cp $MW_BUILDPATH/freebsd8/build/kernelconfigs/M0N0WALL_GENERIC.hints $MW_BUILDPATH/tmp/sys/$MW_ARCH/conf/
        config M0N0WALL_GENERIC
        cd $MW_BUILDPATH/tmp/sys/$MW_ARCH/compile/M0N0WALL_GENERIC/
        make depend && make
        strip kernel
        strip --remove-section=.note --remove-section=.comment kernel
        gzip -9 kernel
        mv kernel.gz $MW_BUILDPATH/tmp/
        cd modules/$MW_BUILDPATH/tmp/sys/modules
        cp aesni/aesni.ko glxsb/glxsb.ko padlock/padlock.ko if_tap/if_tap.ko if_vlan/if_vlan.ko dummynet/dummynet.ko ipfw/ipfw.ko runfw/runfw.ko $MW_BUILDPATH/m0n0fs/boot/kernel
                if [ $MW_ARCH = "i386" ]; then
                cp acpi/acpi/acpi.ko $MW_BUILDPATH/tmp
        fi

statically compile device wiring (hints) ? See GENERIC

Try Generic kernel and do the dmesg / pciconf things?

sio is broken in 8.4 and possibly 9.

Up the cpus on the vm

wbwd might be the watchdog timer? in smallwall kernel hints allegedly for 8.4, but no man page on 8.4 only man page in newer versions.

try GENERIC again but with adding cpu soekris items

These two seem to be the cause of boot fails:
options         CPU_ELAN_XTAL
options         CPU_ELAN_PPS

set locale

set localtime

nanobsd options -w -k -v

fix tweak function to not be hardcoded

update crontab

remove lots of junk to shrink image


login.conf
login.access
cap_mkdb

gettytab

update passwd
/usr/sbin/pwd_mkdb -p /etc/master.passwd

gzip -c /usr/obj/nanobsd.net4521/_.disk.image | ssh root@192.168.2.237 "gunzip -d | sh update"
adding options TMPFS changed the md devices to tmpfs mounts...but why?
======================================
Review https://neon1.net/misc/minibsd.html for ideas.
http://phk.freebsd.dk/soekris/

======================================
branch for 5501 and cleanup
branch for 4521 and cleanup

For 4521 boot problem, used minicom to capture output. Seems like there might be an issue with the new bootloader in 12. Tried what some suggested and grabbed bootloader
from 11.2 (11.3 had the lua garbage, i think). Might be missing something still.
x86bootstraploader,Revision1.1(FriJun2203:57:48UTC2018root@releng2.nyi.freebsd.org)Can'tworkoutwhichdiskwearebootingfrom.GuessedBIOSdevice0xffffffffnotfoundbyprobes,defaultingtodisk0:vocabularynotfoundcompile,notfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundforthnotfoundbuiltin:notfoundbuiltinsnotfoundonlynotfoundread1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from0to0x76e10,error:0x1read1from
Others suggested issues with MBR vs gpt.
https://forums.freebsd.org/threads/lua-error-can-not-open-boot-lua-loader-lua.68635/page-2
https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=233098
https://forums.freebsd.org/threads/loader-lua-file-not-found.73282/
https://forums.freebsd.org/threads/error-at-startup.70900/


